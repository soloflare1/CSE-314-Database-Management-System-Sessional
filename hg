CREATE TABLE student_audit (
    id INT AUTO_INCREMENT PRIMARY KEY,
    student_id INT,
    action VARCHAR(20),
    action_time TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

DELIMITER //

CREATE TRIGGER after_student_insert
AFTER INSERT ON students
FOR EACH ROW
BEGIN
    INSERT INTO student_audit(student_id, action)
    VALUES (NEW.student_id, 'INSERT');
END //

DELIMITER ;

INSERT INTO students(student_id, name, dept)
VALUES (101, 'Naba', 'CSE');

DELIMITER //

CREATE PROCEDURE get_students_by_dept(IN dept_name VARCHAR(10))
BEGIN
    SELECT name, age
    FROM students
    WHERE dept = dept_name;
END //

DELIMITER ;

INSERT INTO students VALUES
(101, 'Naba', 20, 'CSE'),
(102, 'Rafi', 21, 'EEE'),
(103, 'Mim', 20, 'CSE');

CALL get_students_by_dept('CSE');

CREATE INDEX idx_email ON students(email);

SELECT * FROM students
WHERE email = 'naba@gmail.com';